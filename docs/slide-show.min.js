"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function st_slide_show_page(e,t){var n=document.getElementById(e+"-page-label-"+t);n&&n.click()}function st_slide_show_initialize(e,t){var n="st-slide-show",r=n+"-strip",i=n+"-prev",a=n+"-next",s=n+"-rivets",l=n+"-caption",o=n+"-picture",d=n+"-video",c=n+"-background-frame",u=n+"-slide-count",f=n+"-slide-index",v="pause",m="dual",h="scroll",p="do",y=100,g=10;void 0===t&&(t={});var b=void 0===t.effect_type?"slide":t.effect_type,_=void 0===t.duration_time?8:t.duration_time,E=void 0===t.transition_time?1:t.transition_time,C=void 0===t.background_opacity?.33:t.background_opacity,L=void 0!==t.is_picture_scroll&&t.is_picture_scroll,w=void 0!==t.is_random_timing&&t.is_random_timing,T=void 0===t.is_background_visible||t.is_background_visible,B=void 0!==t.is_side_slide_visible&&t.is_side_slide_visible,A=void 0===t.zoom_rate?1.05:t.zoom_rate;"scroll"!==b&&(B=!1),B&&(T=!1),L&&(A=1);var k=void 0===e?document.getElementsByClassName(n)[0]:document.getElementById(e);if(k){var S=Array.prototype.slice.call(k.querySelectorAll(".st-slide-show-slides > li")),N=S.length,I=[],D=[],X=[],x=[],M=[],H=0,q=k.querySelector(".st-slide-show-slides");B&&(q.style.overflow="visible");for(var O=[],R=[],P=0;P<S.length;P+=1)V(S[P]);!function(){"scroll"===b&&1<N&&N<4&&function(){for(var e=0;e<N;e+=1){var t=S[e],n=t.cloneNode(!0);S.push(n),t.parentNode.appendChild(n)}}();for(var e=0;e<S.length;e+=1)if(S[e].dataset.video){var t=Y(S[e]),n=_slicedToArray(t,2),r=n[0],i=n[1];I.push(r),M.push(i)}else{var a=F(S[e]);I.push(a),M.push(null)}switch(b){case"slide":return Z();case"scroll":return function(){for(var e=0;e<S.length;e+=1)S[e].style.opacity=1,S[e].style.transform="translateX("+100*e+"%)"}();case"fade":return function(){for(var e=0;e<N;e+=1)S[e].style.opacity=0===e?1:0,S[e].style.transition="opacity "+E+"s"}();default:Z()}}(),T&&function(){var e=k.getElementsByClassName(r)[0],t=document.createElement("div");t.classList.add(c),e.insertBefore(t,e.firstChild),window.ST.onResize(function(){var n=e.getBoundingClientRect();t.style.left=-(n.left+window.pageXOffset)+"px"}),document.addEventListener("DOMContentLoaded",function(){var n=e.getBoundingClientRect();t.style.left=-(n.left+window.pageXOffset)+"px"});for(var n=0;n<N;n+=1){var i=S[n].dataset.img?S[n].dataset.img:S[n].dataset.imgLeft,a=document.createElement("div");i&&(a.style.backgroundImage="url('"+i+"')",a.style.transition="opacity "+2*E+"s"),t.appendChild(a),X.push(a)}}(),function(){if(1===N)return;var t=k.getElementsByClassName(s)[0];t&&function(){for(var n=2===N?1:0,r=0;r<N;r+=1){var i=document.createElement("input");i.type="radio",i.name=e+"-buttons",i.id=e+"-page-"+r,i.style.display="none",0===r&&(i.checked=!0),x.push(i),t.appendChild(i);var a=document.createElement("label");a.id=e+"-page-label-"+r,a.htmlFor=i.id,a.addEventListener("click",function(e){return function(){Q(e,n)}}(r)),t.appendChild(a)}}()}(),function(){var e=1===N,t=k.getElementsByClassName(i)[0];t&&(e?t.style.display="none":t.addEventListener("click",function(){Q(0===H?N-1:H-1,-1)}));var n=k.getElementsByClassName(a)[0];n&&(e?n.style.display="none":n.addEventListener("click",function(){Q(H===N-1?0:H+1,1)}))}(),null===window.ontouchstart&&function(){var e,t,n,s=k.getElementsByClassName(i)[0],l=k.getElementsByClassName(a)[0];if(!s||!l)return;var o=k.getElementsByClassName(r)[0];o.addEventListener("touchstart",function(r){e=r.touches[0].pageX,t=n=null}),o.addEventListener("touchmove",function(e){t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY}),o.addEventListener("touchend",function(r){null!==t&&null!==n&&(t<e-50?(l.click(),r.preventDefault()):e+50<t&&(s.click(),r.preventDefault()))})}(),document.addEventListener("DOMContentLoaded",function(){!function(){O=k.querySelectorAll("."+u),R=k.querySelectorAll("."+f);for(var e=0;e<O.length;e+=1)O[e].innerHTML=N;for(var t=0;t<R.length;t+=1)R[t].innerHTML=1}(),Q(0,0)});var z=null,W=0,j=null}function V(e){var t=e.getAttribute("style");if(t)for(var n=t.split(";").map(function(e){return e.trim()}).filter(function(e){return e.length>0}),r=0;r<n.length;r+=1){var i=n[r].split(":").map(function(e){return e.trim()});if(!(i.length<2)&&0===i[0].indexOf("data-")){var a=(i[1]+":"+i[2]).match(/url\(\s*["']?([^)"']+)/);if(!a)return;e.setAttribute(i[0],a[1])}}}function F(e){var t="phone-landscape"===window.ST.MEDIA_WIDTH;e.style.opacity=0,G(e);var n=document.createElement("div");n.classList.add(o),L&&n.classList.add(h);var r=t&&e.dataset.imgPhone?e.dataset.imgPhone:e.dataset.img,i=t&&e.dataset.imgSubPhone?e.dataset.imgSubPhone:e.dataset.imgSub;if(r&&i){n.classList.add(m);var a=document.createElement("div"),s=document.createElement("div");a.style.backgroundImage="url('"+r+"')",s.style.backgroundImage="url('"+i+"')",n.insertBefore(s,n.firstChild),n.insertBefore(a,n.firstChild)}else{var l=document.createElement("div");l.style.backgroundImage="url('"+r+"')",n.insertBefore(l,n.firstChild)}var d=e.querySelector("a");return d?d.insertBefore(n,d.firstChild):e.insertBefore(n,e.firstChild),n}function Y(e){e.style.opacity=0,G(e);var t=document.createElement("div");t.classList.add(d);var n=document.createElement("video");n.muted=!0,n.playsinline=!0,n.setAttribute("muted",!0),n.setAttribute("playsinline",!0),t.appendChild(n);var r=e.dataset.video,i=document.createElement("source");i.setAttribute("src",r),n.appendChild(i);var a=e.querySelector("a");return a?a.insertBefore(t,a.firstChild):e.insertBefore(t,e.firstChild),[t,n]}function G(e){var t=e.querySelector("div");if(t){t.style.transitionDuration=E+"s",""===t.className&&(t.classList.add(l),t.classList.add("subtitle"));for(var n=J("DIV",t),r=0;r<n.length;r+=1)K(n[r]);K(t);var i=J("SPAN",t);if(0<i.length){for(var a=document.createElement("div"),s=0;s<i.length;s+=1)a.appendChild(t.removeChild(i[s]));t.appendChild(a)}}D.push(t)}function J(e,t){for(var n=t.getElementsByTagName(e),r=[],i=0;i<n.length;i+=1)n[i].parentNode===t&&r.push(n[i]);return r}function K(e){for(var t=0;t<e.childNodes.length;t+=1){var n=e.childNodes[t];if(3===n.nodeType){if(""===n.nodeValue.trim())continue;var r=document.createElement("span");r.appendChild(document.createTextNode(n.nodeValue)),n.parentNode.replaceChild(r,n)}}}function Q(e,t){if(function(e,t){var n=window.performance.now();if(0!==t&&n-W<1e3*E)return!1;switch(W=n,b){case"slide":$(e);break;case"scroll":!function(e,t){var n=0;0===t?(n=100*(H-e),H===N-1&&0===e&&(n=-100),0===H&&e===N-1&&(n=100)):n=-100*t;for(var r=function(e,t){if(1===N)return[0];if(2===N)if(0===t||-100===t){if(0===e)return[0,100,200,-100];if(1===e)return[100,0,-100,200]}else if(100===t){if(0===e)return[0,-100,-200,100];if(1===e)return[-100,0,100,-200]}if(3===N)if(0===t||-100===t){if(0===e)return[0,100,-100,0,100,200];if(1===e)return[-100,0,100,200,0,100];if(2===e)return[100,-100,0,100,200,0]}else if(100===t){if(0===e)return[0,100,-100,0,-200,-100];if(1===e)return[-100,0,100,-100,0,-200];if(2===e)return[100,-100,0,-200,-100,0]}if(4<=N){for(var n=new Array(S.length),r=0;r<S.length;r+=1)n[r]=100*(r-e);return 0===t||-100===t?(ee(n,e-1,-100),ee(n,e+1,100),ee(n,e+2,200)):100===t&&(ee(n,e+1,100),ee(n,e-1,-100),ee(n,e-2,-200)),n}}(H,n),i=0;i<S.length;i+=1){var a=S[i];a.style.transition="transform 0s",a.style.transform="translateX("+r[i]+"%)"}if(e===H)return;j&&clearTimeout(j);j=setTimeout(function(){for(var e=0;e<S.length;e+=1){var t=S[e],i=r[e]+n;t.style.transition="transform "+E+"s",t.style.transform="translateX("+i+"%)"}j=null},100)}(e,t);break;case"fade":!function(e){for(var t=0;t<N;t+=1)S[t].style.opacity=t===e?1:0,S[t].style.pointerEvents=t===e?"auto":"none"}(e);break;default:$(e)}if(T)for(var r=0;r<N;r+=1)X[r].style.opacity=r===e?C:0;for(var i=0;i<S.length;i+=1){var a=M[i];a&&i%N===e&&(a.setAttribute("autoplay",!0),a.play())}return!0}(e,t)){for(var n=0;n<R.length;n+=1)R[n].innerHTML=e+1;setTimeout(function(){!function(e){0<x.length&&x[e].nextSibling.classList.add("visible");if(function(e){if("phone-landscape"===window.ST.MEDIA_WIDTH)for(var t=0;t<S.length;t+=1)I[t].style.transform="";else if(1!==A)for(var n=0;n<S.length;n+=1){var r=I[n],i=M[n];i||(r.style.transform=n%N===e?"scale("+A+", "+A+") rotate(0.1deg)":"")}for(var a=0;a<S.length;a+=1){var s=I[a],l=M[a];l?a%N!==e&&(l.pause(),l.currentTime=0):a%N===e?s.classList.add(p):s.classList.remove(p)}for(var o=0;o<D.length;o+=1)D[o]&&(o%N===e?D[o].classList.add("visible"):D[o].classList.remove("visible"));0<x.length&&(x[e].checked=!0)}(e),H=e,N<=1)return;var t=M[H],n=_;if(t)n=t.duration-E;else if(w){var r=(g-Math.random()*(2*g))/100;n*=1+r}z&&clearTimeout(z);z=setTimeout(U,Math.ceil(1e3*n))}(e)},1e3*E)}}function U(){var e;(0<x.length&&x[H].nextSibling.classList.remove("visible"),e=k.getBoundingClientRect(),-y<e.bottom&&e.top<window.innerHeight+y&&!k.classList.contains(v))?Q(H===N-1?0:H+1,1):setTimeout(U,1e3*_)}function Z(){for(var e=0;e<N;e+=1)S[e].style.transform="translateX("+(0===e?0:100)+"%)";setTimeout(function(){for(var e=0;e<N;e+=1)S[e].style.opacity=1,S[e].style.transition="transform "+E+"s"},0)}function $(e){for(var t=0;t<N;t+=1)T&&(X[t].style.opacity=t===e?.33:0),S[t].style.transform=t<=e?"translateX(0%)":"translateX(100%)"}function ee(e,t,n){t<0?e[e.length+t]=n:e.length-1<t?e[t-e.length]=n:e[t]=n}}