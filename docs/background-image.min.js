"use strict";function st_background_image_initialize(t,e){var a=10,r="st-background-image",i=r+"-picture",n=r+"-video",s=100;void 0===e&&(e={});var o,l=void 0===e.effect_type?"slide":e.effect_type,c=void 0===e.zoom_rate?1.05:e.zoom_rate,d=void 0===e.duration_time?8:e.duration_time,u=void 0===e.transition_time?1:e.transition_time,f=void 0===e.random_timing||e.random_timing;if(void 0!==(o=void 0===t?document.getElementsByClassName(r)[0]:document.getElementById(t))){for(var m=o.querySelectorAll(".st-background-image-slides > li"),v=m.length,y=[],p=0,g=[],h=!1,E=0;E<m.length;E+=1)_(m[E]);!function(){for(var t=0;t<v;t+=1)if(m[t].dataset.video){var e=B(m[t]);y.push(e),h=!0}else{var a=b(m[t]);y.push(a)}h&&window.ST.onResize(L);switch(l){case"slide":return function(){for(var t=0;t<v;t+=1)m[t].style.opacity=1,m[t].style.transform="translateX("+(0===t?0:100)+"%)",m[t].style.transition="transform "+u+"s"}();case"scroll":return function(){for(var t=0;t<v;t+=1)m[t].style.opacity=1,g.push(0===t?0:100),m[t].style.transform="translateX("+(0===t?0:100)+"%)"}();case"fade":(function(){for(var t=0;t<v;t+=1)m[t].style.opacity=0===t?1:0,m[t].style.transition="opacity "+u+"s"})()}}(),document.addEventListener("DOMContentLoaded",function(){I(0,0)}),h&&setTimeout(function t(){var e=L();e||setTimeout(t,100)},100);var w=window.performance.now(),T=null}function _(t){var e=t.getAttribute("style");if(e)for(var a=e.split(";").map(function(t){return t.trim()}).filter(function(t){return t.length>0}),r=0;r<a.length;r+=1){var i=a[r].split(":").map(function(t){return t.trim()});if(!(i.length<2)&&0===i[0].indexOf("data-")){var n=e.match(/url\(\s*["']?([^)"']+)/);if(!n)return;t.setAttribute(i[0],n[1])}}}function L(){for(var t=!0,e=0;e<v;e+=1){var a=y[e];if(a.classList.contains(n)){var r=a.getElementsByTagName("VIDEO")[0],i=r.dataset.ar;if(i)parseFloat(i)<a.clientWidth/a.clientHeight?(r.classList.remove("height"),r.classList.add("width")):(r.classList.remove("width"),r.classList.add("height"));else t=!1}}return t}function b(t){var e="phone-landscape"===window.ST.MEDIA_WIDTH;t.style.opacity=0;var a=document.createElement("div");a.classList.add(i);var r=e&&t.dataset.imgPhone?t.dataset.imgPhone:t.dataset.img;a.style.backgroundImage="url("+r+")";var n=t.querySelector("a");return n?n.insertBefore(a,n.firstChild):t.insertBefore(a,t.firstChild),a}function B(t){t.style.opacity=0;var e=document.createElement("div");e.classList.add(n);var a=document.createElement("video");a.muted=!0,a.playsinline=!0,a.setAttribute("muted",!0),a.setAttribute("playsinline",!0),a.addEventListener("loadedmetadata",function(){var t=a.clientWidth/a.clientHeight;a.dataset.ar=(0|1e3*t)/1e3}),e.appendChild(a);var r=t.dataset.video,i=document.createElement("source");i.setAttribute("src",r),a.appendChild(i);var s=t.querySelector("a");return s?s.insertBefore(e,s.firstChild):t.insertBefore(e,t.firstChild),e}function I(t,e){var r=window.performance.now();if(!(0!==e&&r-w<1e3*u)){switch(w=r,l){case"slide":!function(t){for(var e=0;e<v;e+=1)m[e].style.transform=e<=t?"translateX(0%)":"translateX(100%)"}(t);break;case"scroll":!function(t){for(var e=[],a=0;a<v;a+=1)a===t?e.push(0):a<t?e.push(-100):e.push(100);v>1&&(0===t&&(e[v-1]=-100),t===v-1&&(e[0]=100));for(var r=0;r<v;r+=1){var i=m[r],n=g[r],s=e[r];i.style.transition=100===n&&-100===s||-100===n&&100===s?"transform 0s":"transform "+u+"s",i.style.transform="translateX("+s+"%)"}g=e}(t);break;case"fade":!function(t){for(var e=0;e<v;e+=1)m[e].style.opacity=e===t?1:0,m[e].style.pointerEvents=e===t?"auto":"none"}(t)}setTimeout(function(){if("phone-landscape"===window.ST.MEDIA_WIDTH)for(var e=0;e<v;e+=1)y[e].style.transform="";else if(1!==c)for(var a=0;a<v;a+=1){var r=y[a];r.classList.contains(n)||(r.style.transform=a===t?"scale("+c+", "+c+") rotate(0.1deg)":"")}for(var i=0;i<v;i+=1){var s=y[i];if(s.classList.contains(n)){var o=s.getElementsByTagName("VIDEO")[0];i!==t&&(o.pause(),o.currentTime=0)}}},1e3*u);for(var i=0;i<v;i+=1){var h=y[i];if(h.classList.contains(n)){var E=h.getElementsByTagName("VIDEO")[0];i===t&&(E.setAttribute("autoplay",!0),E.play())}}p=t,1<v&&function t(){T&&clearTimeout(T);var e=d;var r=y[p];if(r.classList.contains(n)){var i=r.getElementsByTagName("VIDEO")[0];e=i.duration-u}else if(f){var l=(a-Math.random()*(2*a))/100;e*=1+l}T=setTimeout(function(){T=null;var e=o.getBoundingClientRect(),a=-s<e.bottom&&e.top<window.innerHeight+s;a&&I(p===v-1?0:p+1,1),t()},Math.ceil(1e3*e))}()}}}