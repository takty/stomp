"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function st_background_image_initialize(t,e){var r="st-background-image",n=r+"-video",a=100;void 0===e&&(e={});var i=void 0===e.effect_type?"slide":e.effect_type,o=void 0===e.duration_time?8:e.duration_time,s=void 0===e.transition_time?1:e.transition_time,u=void 0===e.is_random_timing||e.is_random_timing,l=void 0===e.is_autoplay||e.is_autoplay,c=void 0===e.zoom_rate?1.05:e.zoom_rate,f=void 0===t?document.getElementsByClassName(r)[0]:document.getElementById(t);if(f){var d=Array.prototype.slice.call(f.querySelectorAll(".st-background-image-slides > li")),m=d.length,v=[],y=[],p=0,h=[],g=!1,b=null,_=[];document.addEventListener("DOMContentLoaded",(function(){var t="ie11"!==(-1!==window.navigator.userAgent.toLowerCase().indexOf("trident/7"))&&{passive:!0};window.addEventListener("resize",(function(){for(var t=0;t<_.length;t+=1)_[t]()}),t)}));var A=!1;E((function(){A=window.innerWidth<600}),!0);for(var w=0;w<d.length;w+=1)C(d[w]);!function(){for(var t=0;t<m;t+=1)if(d[t].dataset.video){var e=_slicedToArray(B(d[t]),2),r=e[0],n=e[1];v.push(r),y.push(n),g=!0}else{var a=I(d[t]);v.push(a),y.push(null)}g&&E(k);switch(i){case"slide":return H();case"scroll":return function(){for(var t=0;t<m;t+=1)d[t].style.opacity=1,h.push(0===t?0:100),d[t].style.transform="translateX("+(0===t?0:100)+"%)"}();case"fade":return function(){for(var t=0;t<m;t+=1)d[t].style.opacity=0===t?1:0,d[t].style.transition="opacity "+s+"s"}();default:H()}}(),document.addEventListener("DOMContentLoaded",(function(){S(0,0)})),g&&setTimeout((function t(){k()||setTimeout(t,100)}),100);var L=null,T=window.performance.now();return{previous:function(){S(0===p?m-1:p-1,-1)},next:function(){S(p===m-1?0:p+1,1)},onTransitionEnd:function(t){b=t}}}function E(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(t){var e;function r(){e=!1,t()}return function(){e||(e=!0,requestAnimationFrame(r))}}e&&t(),_.push(r(t))}function C(t){var e=t.getAttribute("style");if(e)for(var r=e.split(";").map((function(t){return t.trim()})).filter((function(t){return t.length>0})),n=0;n<r.length;n+=1){var a=r[n].split(":").map((function(t){return t.trim()}));if(!(a.length<2)&&0===a[0].indexOf("data-")){var i=(a[1]+":"+a[2]).match(/url\(\s*["']?([^)"']+)/);if(!i)return;t.setAttribute(a[0],i[1])}}}function k(){for(var t=!0,e=0;e<m;e+=1){var r=v[e];if(r.classList.contains(n)){var a=r.getElementsByTagName("VIDEO")[0],i=a.dataset.ar;if(i)parseFloat(i)<r.clientWidth/r.clientHeight?(a.classList.remove("height"),a.classList.add("width")):(a.classList.remove("width"),a.classList.add("height"));else t=!1}}return t}function I(t){t.style.opacity=0;var e=document.createElement("div");e.classList.add("st-background-image-picture");var r=A&&t.dataset.imgPhone?t.dataset.imgPhone:t.dataset.img;e.style.backgroundImage="url("+r+")";var n=t.querySelector("a");return n?n.insertBefore(e,n.firstChild):t.insertBefore(e,t.firstChild),e}function B(t){t.style.opacity=0;var e=document.createElement("div");e.classList.add(n);var r=document.createElement("video");r.muted=!0,r.playsinline=!0,r.setAttribute("muted",!0),r.setAttribute("playsinline",!0),r.addEventListener("loadedmetadata",(function(){var t=r.clientWidth/r.clientHeight;r.dataset.ar=(0|1e3*t)/1e3})),e.appendChild(r);var a=t.dataset.video,i=document.createElement("source");i.setAttribute("src",a),r.appendChild(i);var o=t.querySelector("a");return o?o.insertBefore(e,o.firstChild):t.insertBefore(e,t.firstChild),[e,r]}function S(t,e){(function(t,e){var r=window.performance.now();if(0!==e&&r-T<1e3*s)return!1;switch(T=r,i){case"slide":M(t);break;case"scroll":!function(t){for(var e=[],r=0;r<m;r+=1)r===t?e.push(0):r<t?e.push(-100):e.push(100);m>1&&(0===t&&(e[m-1]=-100),t===m-1&&(e[0]=100));for(var n=0;n<m;n+=1){var a=d[n],i=h[n],o=e[n];a.style.transition=100===i&&-100===o||-100===i&&100===o?"transform 0s":"transform "+s+"s",a.style.transform="translateX("+o+"%)"}h=e}(t);break;case"fade":!function(t){for(var e=0;e<m;e+=1)d[e].style.opacity=e===t?1:0,d[e].style.pointerEvents=e===t?"auto":"none"}(t);break;default:M(t)}for(var n=0;n<m;n+=1){var a=y[n];a&&n===t&&(a.setAttribute("autoplay",!0),a.play(),1===m&&a.setAttribute("loop",!0))}return!0})(t,e)&&setTimeout((function(){b&&b(),function(t){if(function(t){if(A)for(var e=0;e<m;e+=1)v[e].style.transform="";else if(1!==c)for(var r=0;r<m;r+=1)if(!y[r]){var n=r===t?"scale("+c+", "+c+") rotate(0.1deg)":"";v[r].style.transform=n}for(var a=0;a<m;a+=1){var i=y[a];i&&a!==t&&(i.pause(),i.currentTime=0)}}(t),p=t,m<=1)return;var e=y[p],r=o;if(e)r=e.duration-s;else if(u){r*=1+(10-20*Math.random())/100}L&&clearTimeout(L);L=setTimeout(O,Math.ceil(1e3*r))}(t)}),1e3*s)}function O(){var t;l&&(-100<(t=f.getBoundingClientRect()).bottom&&t.top<window.innerHeight+a)&&!f.classList.contains("pause")?S(p===m-1?0:p+1,1):setTimeout(O,1e3*o)}function H(){for(var t=0;t<m;t+=1)d[t].style.transform="translateX("+(0===t?0:100)+"%)";setTimeout((function(){for(var t=0;t<m;t+=1)d[t].style.opacity=1,d[t].style.transition="transform "+s+"s"}),0)}function M(t){for(var e=0;e<m;e+=1)d[e].style.transform=e<=t?"translateX(0%)":"translateX(100%)"}}