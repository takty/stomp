"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],a=!0,i=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(t){i=!0,n=t}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function st_background_image_initialize(t,e){var r="st-background-image",a=r+"-picture",i=r+"-video",n="pause",o=100,s=10;void 0===e&&(e={});var l=void 0===e.effect_type?"slide":e.effect_type,u=void 0===e.duration_time?8:e.duration_time,c=void 0===e.transition_time?1:e.transition_time,d=void 0===e.is_random_timing||e.is_random_timing,f=void 0===e.is_autoplay||e.is_autoplay,m=void 0===e.zoom_rate?1.05:e.zoom_rate,v=void 0===t?document.getElementsByClassName(r)[0]:document.getElementById(t);if(v){for(var y=Array.prototype.slice.call(v.querySelectorAll(".st-background-image-slides > li")),p=y.length,h=[],g=[],_=0,b=[],w=!1,T=0;T<y.length;T+=1)L(y[T]);!function(){for(var t=0;t<p;t+=1)if(y[t].dataset.video){var e=S(y[t]),r=_slicedToArray(e,2),a=r[0],i=r[1];h.push(a),g.push(i),w=!0}else{var n=C(y[t]);h.push(n),g.push(null)}w&&window.ST.onResize(I);switch(l){case"slide":return H();case"scroll":return function(){for(var t=0;t<p;t+=1)y[t].style.opacity=1,b.push(0===t?0:100),y[t].style.transform="translateX("+(0===t?0:100)+"%)"}();case"fade":return function(){for(var t=0;t<p;t+=1)y[t].style.opacity=0===t?1:0,y[t].style.transition="opacity "+c+"s"}();default:H()}}(),document.addEventListener("DOMContentLoaded",function(){B(0,0)}),w&&setTimeout(function t(){var e=I();e||setTimeout(t,100)},100);var A=null,E=window.performance.now()}function L(t){var e=t.getAttribute("style");if(e)for(var r=e.split(";").map(function(t){return t.trim()}).filter(function(t){return t.length>0}),a=0;a<r.length;a+=1){var i=r[a].split(":").map(function(t){return t.trim()});if(!(i.length<2)&&0===i[0].indexOf("data-")){var n=e.match(/url\(\s*["']?([^)"']+)/);if(!n)return;t.setAttribute(i[0],n[1])}}}function I(){for(var t=!0,e=0;e<p;e+=1){var r=h[e];if(r.classList.contains(i)){var a=r.getElementsByTagName("VIDEO")[0],n=a.dataset.ar;if(n)parseFloat(n)<r.clientWidth/r.clientHeight?(a.classList.remove("height"),a.classList.add("width")):(a.classList.remove("width"),a.classList.add("height"));else t=!1}}return t}function C(t){var e="phone-landscape"===window.ST.MEDIA_WIDTH;t.style.opacity=0;var r=document.createElement("div");r.classList.add(a);var i=e&&t.dataset.imgPhone?t.dataset.imgPhone:t.dataset.img;r.style.backgroundImage="url("+i+")";var n=t.querySelector("a");return n?n.insertBefore(r,n.firstChild):t.insertBefore(r,t.firstChild),r}function S(t){t.style.opacity=0;var e=document.createElement("div");e.classList.add(i);var r=document.createElement("video");r.muted=!0,r.playsinline=!0,r.setAttribute("muted",!0),r.setAttribute("playsinline",!0),r.addEventListener("loadedmetadata",function(){var t=r.clientWidth/r.clientHeight;r.dataset.ar=(0|1e3*t)/1e3}),e.appendChild(r);var a=t.dataset.video,n=document.createElement("source");n.setAttribute("src",a),r.appendChild(n);var o=t.querySelector("a");return o?o.insertBefore(e,o.firstChild):t.insertBefore(e,t.firstChild),[e,r]}function B(t,e){(function(t,e){var r=window.performance.now();if(0!==e&&r-E<1e3*c)return!1;switch(E=r,l){case"slide":D(t);break;case"scroll":!function(t){for(var e=[],r=0;r<p;r+=1)r===t?e.push(0):r<t?e.push(-100):e.push(100);p>1&&(0===t&&(e[p-1]=-100),t===p-1&&(e[0]=100));for(var a=0;a<p;a+=1){var i=y[a],n=b[a],o=e[a];i.style.transition=100===n&&-100===o||-100===n&&100===o?"transform 0s":"transform "+c+"s",i.style.transform="translateX("+o+"%)"}b=e}(t);break;case"fade":!function(t){for(var e=0;e<p;e+=1)y[e].style.opacity=e===t?1:0,y[e].style.pointerEvents=e===t?"auto":"none"}(t);break;default:D(t)}for(var a=0;a<p;a+=1){var i=g[a];i&&a===t&&(i.setAttribute("autoplay",!0),i.play())}return!0})(t,e)&&setTimeout(function(){!function(t){if(function(t){if("phone-landscape"===window.ST.MEDIA_WIDTH)for(var e=0;e<p;e+=1)h[e].style.transform="";else if(1!==m)for(var r=0;r<p;r+=1)if(!g[r]){var a=r===t?"scale("+m+", "+m+") rotate(0.1deg)":"";h[r].style.transform=a}for(var i=0;i<p;i+=1){var n=g[i];n&&i!==t&&(n.pause(),n.currentTime=0)}}(t),_=t,p<=1)return;var e=g[_],r=u;if(e)r=e.duration-c;else if(d){var a=(s-Math.random()*(2*s))/100;r*=1+a}A&&clearTimeout(A);A=setTimeout(k,Math.ceil(1e3*r))}(t)},1e3*c)}function k(){var t;f&&(t=v.getBoundingClientRect(),-o<t.bottom&&t.top<window.innerHeight+o)&&!v.classList.contains(n)?B(_===p-1?0:_+1,1):setTimeout(k,1e3*u)}function H(){for(var t=0;t<p;t+=1)y[t].style.transform="translateX("+(0===t?0:100)+"%)";setTimeout(function(){for(var t=0;t<p;t+=1)y[t].style.opacity=1,y[t].style.transition="transform "+c+"s"},0)}function D(t){for(var e=0;e<p;e+=1)y[e].style.transform=e<=t?"translateX(0%)":"translateX(100%)"}}