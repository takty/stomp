"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(t){n=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function st_background_image_initialize(t,e){var r="st-background-image";void 0===e&&(e={});var a=void 0===e.effect_type?"slide":e.effect_type,n=void 0===e.duration_time?8:e.duration_time,i=void 0===e.transition_time?1:e.transition_time,o=void 0===e.is_random_timing||e.is_random_timing,s=void 0===e.is_autoplay||e.is_autoplay,l=void 0===e.zoom_rate?1.05:e.zoom_rate,u=void 0===t?document.getElementsByClassName(r)[0]:document.getElementById(t);if(u){for(var c=Array.prototype.slice.call(u.querySelectorAll(".st-background-image-slides > li")),d=c.length,f=[],m=[],v=0,y=[],p=!1,h=null,g=0;g<c.length;g+=1)A(c[g]);!function(){for(var t=0;t<d;t+=1)if(c[t].dataset.video){var e=_slicedToArray(L(c[t]),2),r=e[0],n=e[1];f.push(r),m.push(n),p=!0}else{var o=w(c[t]);f.push(o),m.push(null)}p&&window.ST.onResize(T);switch(a){case"slide":return k();case"scroll":return function(){for(var t=0;t<d;t+=1)c[t].style.opacity=1,y.push(0===t?0:100),c[t].style.transform="translateX("+(0===t?0:100)+"%)"}();case"fade":return function(){for(var t=0;t<d;t+=1)c[t].style.opacity=0===t?1:0,c[t].style.transition="opacity "+i+"s"}();default:k()}}(),document.addEventListener("DOMContentLoaded",(function(){E(0,0)})),p&&setTimeout((function t(){T()||setTimeout(t,100)}),100);var b=null,_=window.performance.now();return{previous:function(){E(0===v?d-1:v-1,-1)},next:function(){E(v===d-1?0:v+1,1)},onTransitionEnd:function(t){h=t}}}function A(t){var e=t.getAttribute("style");if(e)for(var r=e.split(";").map((function(t){return t.trim()})).filter((function(t){return t.length>0})),a=0;a<r.length;a+=1){var n=r[a].split(":").map((function(t){return t.trim()}));if(!(n.length<2)&&0===n[0].indexOf("data-")){var i=(n[1]+":"+n[2]).match(/url\(\s*["']?([^)"']+)/);if(!i)return;t.setAttribute(n[0],i[1])}}}function T(){for(var t=!0,e=0;e<d;e+=1){var r=f[e];if(r.classList.contains("st-background-image-video")){var a=r.getElementsByTagName("VIDEO")[0],n=a.dataset.ar;if(n)parseFloat(n)<r.clientWidth/r.clientHeight?(a.classList.remove("height"),a.classList.add("width")):(a.classList.remove("width"),a.classList.add("height"));else t=!1}}return t}function w(t){var e="phone-landscape"===window.ST.MEDIA_WIDTH;t.style.opacity=0;var r=document.createElement("div");r.classList.add("st-background-image-picture");var a=e&&t.dataset.imgPhone?t.dataset.imgPhone:t.dataset.img;r.style.backgroundImage="url("+a+")";var n=t.querySelector("a");return n?n.insertBefore(r,n.firstChild):t.insertBefore(r,t.firstChild),r}function L(t){t.style.opacity=0;var e=document.createElement("div");e.classList.add("st-background-image-video");var r=document.createElement("video");r.muted=!0,r.playsinline=!0,r.setAttribute("muted",!0),r.setAttribute("playsinline",!0),r.addEventListener("loadedmetadata",(function(){var t=r.clientWidth/r.clientHeight;r.dataset.ar=(0|1e3*t)/1e3})),e.appendChild(r);var a=t.dataset.video,n=document.createElement("source");n.setAttribute("src",a),r.appendChild(n);var i=t.querySelector("a");return i?i.insertBefore(e,i.firstChild):t.insertBefore(e,t.firstChild),[e,r]}function E(t,e){(function(t,e){var r=window.performance.now();if(0!==e&&r-_<1e3*i)return!1;switch(_=r,a){case"slide":S(t);break;case"scroll":!function(t){for(var e=[],r=0;r<d;r+=1)r===t?e.push(0):r<t?e.push(-100):e.push(100);d>1&&(0===t&&(e[d-1]=-100),t===d-1&&(e[0]=100));for(var a=0;a<d;a+=1){var n=c[a],o=y[a],s=e[a];n.style.transition=100===o&&-100===s||-100===o&&100===s?"transform 0s":"transform "+i+"s",n.style.transform="translateX("+s+"%)"}y=e}(t);break;case"fade":!function(t){for(var e=0;e<d;e+=1)c[e].style.opacity=e===t?1:0,c[e].style.pointerEvents=e===t?"auto":"none"}(t);break;default:S(t)}for(var n=0;n<d;n+=1){var o=m[n];o&&n===t&&(o.setAttribute("autoplay",!0),o.play())}return!0})(t,e)&&setTimeout((function(){h&&h(),function(t){if(function(t){if("phone-landscape"===window.ST.MEDIA_WIDTH)for(var e=0;e<d;e+=1)f[e].style.transform="";else if(1!==l)for(var r=0;r<d;r+=1)if(!m[r]){var a=r===t?"scale("+l+", "+l+") rotate(0.1deg)":"";f[r].style.transform=a}for(var n=0;n<d;n+=1){var i=m[n];i&&n!==t&&(i.pause(),i.currentTime=0)}}(t),v=t,d<=1)return;var e=m[v],r=n;if(e)r=e.duration-i;else if(o){var a=(10-20*Math.random())/100;r*=1+a}b&&clearTimeout(b);b=setTimeout(I,Math.ceil(1e3*r))}(t)}),1e3*i)}function I(){var t;s&&(-100<(t=u.getBoundingClientRect()).bottom&&t.top<window.innerHeight+100)&&!u.classList.contains("pause")?E(v===d-1?0:v+1,1):setTimeout(I,1e3*n)}function k(){for(var t=0;t<d;t+=1)c[t].style.transform="translateX("+(0===t?0:100)+"%)";setTimeout((function(){for(var t=0;t<d;t+=1)c[t].style.opacity=1,c[t].style.transition="transform "+i+"s"}),0)}function S(t){for(var e=0;e<d;e+=1)c[e].style.transform=e<=t?"translateX(0%)":"translateX(100%)"}}